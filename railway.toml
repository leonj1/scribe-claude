# Railway Configuration for Backend Service
# This file configures Railway to properly build the backend service from the backend/ subdirectory
# Documentation: https://docs.railway.app/reference/config-as-code

# IMPORTANT: This configuration assumes you're deploying the backend service.
# For monorepo setups, you should ALSO set the "Root Directory" in Railway's dashboard to "backend"
# or use the Railway CLI: railway service settings --root-directory backend

[build]
# Builder configuration
builder = "NIXPACKS"

# Watch only backend directory for changes
watchPaths = ["backend/**"]

[deploy]
# Health check endpoint (FastAPI provides this at /health)
healthcheckPath = "/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Number of replicas
numReplicas = 1
